{"ast":null,"code":"import { Set } from 'pouchdb-collections';\nimport argsarray from 'argsarray';\nimport { nextTick } from 'pouchdb-utils';\nimport inherits from 'inherits';\nfunction QueryParseError(message) {\n  this.status = 400;\n  this.name = 'query_parse_error';\n  this.message = message;\n  this.error = true;\n  try {\n    Error.captureStackTrace(this, QueryParseError);\n  } catch (e) {}\n}\ninherits(QueryParseError, Error);\nfunction NotFoundError(message) {\n  this.status = 404;\n  this.name = 'not_found';\n  this.message = message;\n  this.error = true;\n  try {\n    Error.captureStackTrace(this, NotFoundError);\n  } catch (e) {}\n}\ninherits(NotFoundError, Error);\nfunction BuiltInError(message) {\n  this.status = 500;\n  this.name = 'invalid_value';\n  this.message = message;\n  this.error = true;\n  try {\n    Error.captureStackTrace(this, BuiltInError);\n  } catch (e) {}\n}\ninherits(BuiltInError, Error);\nfunction promisedCallback(promise, callback) {\n  if (callback) {\n    promise.then(function (res) {\n      nextTick(function () {\n        callback(null, res);\n      });\n    }, function (reason) {\n      nextTick(function () {\n        callback(reason);\n      });\n    });\n  }\n  return promise;\n}\nfunction callbackify(fun) {\n  return argsarray(function (args) {\n    var cb = args.pop();\n    var promise = fun.apply(this, args);\n    if (typeof cb === 'function') {\n      promisedCallback(promise, cb);\n    }\n    return promise;\n  });\n}\n\n// Promise finally util similar to Q.finally\nfunction fin(promise, finalPromiseFactory) {\n  return promise.then(function (res) {\n    return finalPromiseFactory().then(function () {\n      return res;\n    });\n  }, function (reason) {\n    return finalPromiseFactory().then(function () {\n      throw reason;\n    });\n  });\n}\nfunction sequentialize(queue, promiseFactory) {\n  return function () {\n    var args = arguments;\n    var that = this;\n    return queue.add(function () {\n      return promiseFactory.apply(that, args);\n    });\n  };\n}\n\n// uniq an array of strings, order not guaranteed\n// similar to underscore/lodash _.uniq\nfunction uniq(arr) {\n  var theSet = new Set(arr);\n  var result = new Array(theSet.size);\n  var index = -1;\n  theSet.forEach(function (value) {\n    result[++index] = value;\n  });\n  return result;\n}\nfunction mapToKeysArray(map) {\n  var result = new Array(map.size);\n  var index = -1;\n  map.forEach(function (value, key) {\n    result[++index] = key;\n  });\n  return result;\n}\nexport { uniq, sequentialize, fin, callbackify, promisedCallback, mapToKeysArray, QueryParseError, NotFoundError, BuiltInError };","map":{"version":3,"names":["Set","argsarray","nextTick","inherits","QueryParseError","message","status","name","error","Error","captureStackTrace","e","NotFoundError","BuiltInError","promisedCallback","promise","callback","then","res","reason","callbackify","fun","args","cb","pop","apply","fin","finalPromiseFactory","sequentialize","queue","promiseFactory","arguments","that","add","uniq","arr","theSet","result","Array","size","index","forEach","value","mapToKeysArray","map","key"],"sources":["/home/sol/Documentos/AUS/3ro segundo cuatri/ing 2/URV/node_modules/pouchdb-mapreduce-utils/lib/index.es.js"],"sourcesContent":["import { Set } from 'pouchdb-collections';\nimport argsarray from 'argsarray';\nimport { nextTick } from 'pouchdb-utils';\nimport inherits from 'inherits';\n\nfunction QueryParseError(message) {\n  this.status = 400;\n  this.name = 'query_parse_error';\n  this.message = message;\n  this.error = true;\n  try {\n    Error.captureStackTrace(this, QueryParseError);\n  } catch (e) {}\n}\n\ninherits(QueryParseError, Error);\n\nfunction NotFoundError(message) {\n  this.status = 404;\n  this.name = 'not_found';\n  this.message = message;\n  this.error = true;\n  try {\n    Error.captureStackTrace(this, NotFoundError);\n  } catch (e) {}\n}\n\ninherits(NotFoundError, Error);\n\nfunction BuiltInError(message) {\n  this.status = 500;\n  this.name = 'invalid_value';\n  this.message = message;\n  this.error = true;\n  try {\n    Error.captureStackTrace(this, BuiltInError);\n  } catch (e) {}\n}\n\ninherits(BuiltInError, Error);\n\nfunction promisedCallback(promise, callback) {\n  if (callback) {\n    promise.then(function (res) {\n      nextTick(function () {\n        callback(null, res);\n      });\n    }, function (reason) {\n      nextTick(function () {\n        callback(reason);\n      });\n    });\n  }\n  return promise;\n}\n\nfunction callbackify(fun) {\n  return argsarray(function (args) {\n    var cb = args.pop();\n    var promise = fun.apply(this, args);\n    if (typeof cb === 'function') {\n      promisedCallback(promise, cb);\n    }\n    return promise;\n  });\n}\n\n// Promise finally util similar to Q.finally\nfunction fin(promise, finalPromiseFactory) {\n  return promise.then(function (res) {\n    return finalPromiseFactory().then(function () {\n      return res;\n    });\n  }, function (reason) {\n    return finalPromiseFactory().then(function () {\n      throw reason;\n    });\n  });\n}\n\nfunction sequentialize(queue, promiseFactory) {\n  return function () {\n    var args = arguments;\n    var that = this;\n    return queue.add(function () {\n      return promiseFactory.apply(that, args);\n    });\n  };\n}\n\n// uniq an array of strings, order not guaranteed\n// similar to underscore/lodash _.uniq\nfunction uniq(arr) {\n  var theSet = new Set(arr);\n  var result = new Array(theSet.size);\n  var index = -1;\n  theSet.forEach(function (value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nfunction mapToKeysArray(map) {\n  var result = new Array(map.size);\n  var index = -1;\n  map.forEach(function (value, key) {\n    result[++index] = key;\n  });\n  return result;\n}\n\nexport { uniq, sequentialize, fin, callbackify, promisedCallback, mapToKeysArray, QueryParseError, NotFoundError, BuiltInError };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}